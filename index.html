<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>GUESS THE NUMBER</h1>
    <div id="div_choise" style="display: block;">
        Scegliere tra le varie difficolta:<br>
        1. Facile(1-10)<br>
        2. Media(1-50)<br>
        3. Difficile(1-100)
        <form action="" method="get" name="form_choise">
        <input id="numchoise" type="number" min="1" max="3"value="1">
        <input id="buttonchoise" type="button" value="Scelto">
        </form>
    </div>
    <div id="div_number" style="display: none;">
        ho generato un numero casuale, prova ad indovinarlo
        <form action="" method="get" name="form_number">
            <input id="numero" type="number" name="user_guess" value="200">
            <input id="button" type="button" name="guess" value="Indovina">
        </form>
    </div>
    
    <script>
        function generateRandomInteger(min, max) {
            let casualNumber = Math.random()
            casualNumber = casualNumber * (max-min+1)+min
            casualNumber = parseInt(casualNumber)
            return casualNumber
        }    
        function choises(choice) {
            switch (parseInt(choice)) {
                case 1:
                    return 10;
                case 2:
                    return 50;
                case 3:
                    return 100;
        }
        }

        let buttonchoise = document.querySelector("#buttonchoise");
        let div_choise = document.querySelector("#div_choise");
        let div_number = document.querySelector("#div_number");
        let min= 1
        buttonchoise.addEventListener("click", function (event) {
            let choise = document.querySelector("#numchoise").value;
            if (choise >= 1 && choise <= 3) {
                console.log("Scelta valida:");
                div_choise.style.display = "none";
                div_number.style.display = "block"; //Scompare la sezione di scelta difficoltà e appare quella per indovinare
                let max = choises(choise);
                let rnumber = generateRandomInteger(min, max);
                //console.log("Numero casuale generato:", rnumber); per vedere il numero generato
                let button = document.querySelector('#button');
                button.addEventListener("click", function (event) {
                    let guess = document.querySelector('#numero').value;
                    guess = parseInt(guess.trim());
                    if (isNaN(guess)) {
                        console.log("Numero non valido, reinserire");
                    } else { // Controllo se l'utente ha indovinato il numero
                        if (guess === rnumber) {
                            console.log("Congratulazioni, hai indovinato il numero!");
                        }else{ 
                            if (guess > rnumber) {
                            console.log("Il numero è più piccolo!");
                            } else {
                                console.log("Il numero è più grande!");
                            }
                        }
                    }
                });
            } else {
                console.log("Scelta non valida");
            }
        });
    </script>
</body>
</html>